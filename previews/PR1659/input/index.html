<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Input · ClimaCoupler.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ClimaCoupler.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ClimaCoupler.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Sea Breeze</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/sea_breeze/atmos_rhs/">Atmospheric Model</a></li><li><a class="tocitem" href="../generated/sea_breeze/land_rhs/">Land Model</a></li><li><a class="tocitem" href="../generated/sea_breeze/ocean_rhs/">Ocean Model</a></li><li><a class="tocitem" href="../generated/sea_breeze/run/">Coupled Sea Breeze</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">AMIP</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/amip/run_amip/">AMIP Driver</a></li></ul></li></ul></li><li><span class="tocitem">Coupler Interface</span><ul><li class="is-active"><a class="tocitem" href>Input</a><ul class="internal"><li><a class="tocitem" href="#Providing-Configuration-Options"><span>Providing Configuration Options</span></a></li><li><a class="tocitem" href="#Available-Configuration-Options"><span>Available Configuration Options</span></a></li><li><a class="tocitem" href="#Input-API"><span>Input API</span></a></li></ul></li><li><a class="tocitem" href="../checkpointer/">Checkpointer</a></li><li><a class="tocitem" href="../conservation/">Conservation Checks</a></li><li><a class="tocitem" href="../fieldexchanger/">FieldExchanger</a></li><li><a class="tocitem" href="../fluxcalculator/">FluxCalculator</a></li><li><a class="tocitem" href="../interfacer/">Interfacer</a></li><li><a class="tocitem" href="../timemanager/">TimeManager</a></li><li><a class="tocitem" href="../utilities/">Utilities</a></li><li><a class="tocitem" href="../simoutput/">SimOutput</a></li><li><a class="tocitem" href="../plotting/">Plotting</a></li></ul></li><li><span class="tocitem">Performance</span><ul><li><a class="tocitem" href="../performance/">Performance Analysis Tools</a></li></ul></li><li><span class="tocitem">Model Output</span><ul><li><a class="tocitem" href="../diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../leaderboard/">Leaderboard</a></li></ul></li><li><a class="tocitem" href="../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Coupler Interface</a></li><li class="is-active"><a href>Input</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Input</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/ClimaCoupler.jl/blob/main/docs/src/input.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Input"><a class="docs-heading-anchor" href="#Input">Input</a><a id="Input-1"></a><a class="docs-heading-anchor-permalink" href="#Input" title="Permalink"></a></h1><p>The <code>Input</code> module provides functions for parsing command-line arguments and loading configuration files for ClimaCoupler simulations.</p><h2 id="Providing-Configuration-Options"><a class="docs-heading-anchor" href="#Providing-Configuration-Options">Providing Configuration Options</a><a id="Providing-Configuration-Options-1"></a><a class="docs-heading-anchor-permalink" href="#Providing-Configuration-Options" title="Permalink"></a></h2><p>ClimaCoupler simulations have a variety of configuration options, which are described in the section <a href="#available-configuration-options">Available Configuration Options</a> below.</p><p>Users can configure a coupled simulation through 2 main entry points: command-line arguments and configuration files. Each method, and the priority between them, is explained here.</p><p>Note that all of these configuration are optional; a default AMIP simulation can be set up with the 0-argument constructor <code>CoupledSimulation()</code>.</p><h3 id="Configuration-Files"><a class="docs-heading-anchor" href="#Configuration-Files">Configuration Files</a><a id="Configuration-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration-Files" title="Permalink"></a></h3><p>Configuration files are YAML files that specify simulation parameters. They can be used to specify a valid setting for any configuration option.</p><p>Note that since the atmosphere model has many configuration options on its own, we also support providing an atmosphere-specific configuration file. As a result, multiple configuration files can be used together:</p><ul><li><strong>Coupler config file</strong> (<code>--config_file</code>): Main configuration file for the coupled simulation</li><li><strong>Atmos config file</strong> (<code>--atmos_config_file</code>): Optional ClimaAtmos-specific configuration</li><li><strong>TOML parameter files</strong> (<code>--coupler_toml</code>): One or more TOML files containing model parameters</li></ul><p>When multiple config files are specified, values in the coupler config file will take precedence over those in the atmosphere config file. This is explained in more detail in the <a href="#precendence-of-config-files-and-cli-arguments">Precendence of Config Files and CLI Arguments</a> section below.</p><h3 id="Parameter-TOML-Files"><a class="docs-heading-anchor" href="#Parameter-TOML-Files">Parameter TOML Files</a><a id="Parameter-TOML-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter-TOML-Files" title="Permalink"></a></h3><p>Analogous to configuration files, which specify simulation options such as component models or parameterizations to use, ClimaCoupler also accepts optional TOML files of parameter values.</p><p>If a TOML file is provided, the default parameter values will be overwritten by the values specified in the TOML. If no TOML file is provided, default parameter values will be used.</p><p>Since ClimaCoupler accepts coupler config files <em>and</em> atmosphere config files, we may encounter a case where a TOML file is specified in both config files. In this case, the coupler TOML file takes highest priority; only if there is no coupler TOML will the atmosphere-specific TOML be used.</p><h3 id="Command-Line-Input-(CLI)-Arguments"><a class="docs-heading-anchor" href="#Command-Line-Input-(CLI)-Arguments">Command-Line Input (CLI) Arguments</a><a id="Command-Line-Input-(CLI)-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Command-Line-Input-(CLI)-Arguments" title="Permalink"></a></h3><p>Command-line arguments can be provided when running a simulation:</p><pre><code class="language-bash hljs">julia run_amip.jl --config_file=&quot;path/to/config.yml&quot; --job_id=&quot;amip_default&quot;</code></pre><p>Typically, we rely mostly on configuration files, and provide only the <code>config_file</code> and <code>job_id</code> via CLI arguments, though if desired any input can be specified in the command line. All available options and their defaults can be viewed by running with <code>--help</code>.</p><h3 id="Precendence-of-Config-Files-and-CLI-Arguments"><a class="docs-heading-anchor" href="#Precendence-of-Config-Files-and-CLI-Arguments">Precendence of Config Files and CLI Arguments</a><a id="Precendence-of-Config-Files-and-CLI-Arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Precendence-of-Config-Files-and-CLI-Arguments" title="Permalink"></a></h3><p>Users have the ability to specify arguments via both CLI arguments and configuration files for any given simulation. If this is done, the options are merged with the following precedence (from lowest to highest priority):</p><ol><li><strong>ClimaAtmos defaults</strong> - Default values from the ClimaAtmos package</li><li><strong>ClimaCoupler defaults</strong> - Default values defined in <a href="@ref"><code>argparse_settings()</code></a></li><li><strong>Command-line arguments</strong> - Arguments passed via the command line</li><li><strong>ClimaAtmos configuration file</strong> - YAML file specified via <code>--atmos_config_file</code> or in the coupler config file</li><li><strong>ClimaCoupler configuration file</strong> - YAML file specified via <code>--config_file</code> (default: <code>config/ci_configs/amip_default.yml</code>)</li></ol><h2 id="Available-Configuration-Options"><a class="docs-heading-anchor" href="#Available-Configuration-Options">Available Configuration Options</a><a id="Available-Configuration-Options-1"></a><a class="docs-heading-anchor-permalink" href="#Available-Configuration-Options" title="Permalink"></a></h2><p>The following table lists all available command-line arguments organized by category:</p><h4 id="Simulation-identifying-information"><a class="docs-heading-anchor" href="#Simulation-identifying-information">Simulation-identifying information</a><a id="Simulation-identifying-information-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-identifying-information" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--config_file</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>config/ci_configs/amip_default.yml</code></td><td style="text-align: right">Any valid file path</td><td style="text-align: right">YAML file used to set the configuration of the coupled model</td></tr><tr><td style="text-align: right"><code>--job_id</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right">Any string</td><td style="text-align: right">A unique identifier for this run, defaults to the config file name</td></tr><tr><td style="text-align: right"><code>--print_config_dict</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to print the final configuration dictionary</td></tr><tr><td style="text-align: right"><code>--mode_name</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;amip&quot;</code></td><td style="text-align: right"><code>cmip</code>, <code>amip</code>, <code>subseasonal</code>, <code>slabplanet</code>, <code>slabplanet_aqua</code>, <code>slabplanet_terra</code></td><td style="text-align: right">Mode of coupled simulation</td></tr><tr><td style="text-align: right"><code>--coupler_toml</code></td><td style="text-align: right">Vector{String}</td><td style="text-align: right"><code>[]</code></td><td style="text-align: right">Any list of valid TOML file paths</td><td style="text-align: right">Optional list of paths to TOML files used to overwrite default model parameters</td></tr></table><h4 id="Computational-simulation-setup"><a class="docs-heading-anchor" href="#Computational-simulation-setup">Computational simulation setup</a><a id="Computational-simulation-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Computational-simulation-setup" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--unique_seed</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>false</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to set the random number seed to a unique value</td></tr><tr><td style="text-align: right"><code>--FLOAT_TYPE</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;Float64&quot;</code></td><td style="text-align: right"><code>Float64</code>, <code>Float32</code></td><td style="text-align: right">Floating point precision</td></tr><tr><td style="text-align: right"><code>--device</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;auto&quot;</code></td><td style="text-align: right"><code>auto</code>, <code>CPUSingleThreaded</code>, <code>CPUMultiThreaded</code>, <code>CUDADevice</code></td><td style="text-align: right">Device type to control running on CPU or GPU</td></tr></table><h4 id="Time-information"><a class="docs-heading-anchor" href="#Time-information">Time information</a><a id="Time-information-1"></a><a class="docs-heading-anchor-permalink" href="#Time-information" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--use_itime</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to use ClimaUtilities ITime (integer time) or Float64</td></tr><tr><td style="text-align: right"><code>--t_end</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;800secs&quot;</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">End time of the simulation, relative to the start date</td></tr><tr><td style="text-align: right"><code>--t_start</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;0secs&quot;</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Start time of the simulation, relative to the start date</td></tr><tr><td style="text-align: right"><code>--start_date</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;20000101&quot;</code></td><td style="text-align: right"><code>&quot;YYYYMMDD&quot;</code> format</td><td style="text-align: right">Start date of the simulation</td></tr><tr><td style="text-align: right"><code>--dt_cpl</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;400secs&quot;</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Coupling time step</td></tr><tr><td style="text-align: right"><code>--dt</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;400secs&quot;</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Component model time step (used if individual component dt&#39;s not specified)</td></tr><tr><td style="text-align: right"><code>--dt_atmos</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Atmos simulation time step (alternative to <code>dt</code>)</td></tr><tr><td style="text-align: right"><code>--dt_land</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Land simulation time step (alternative to <code>dt</code>)</td></tr><tr><td style="text-align: right"><code>--dt_ocean</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Ocean simulation time step (alternative to <code>dt</code>)</td></tr><tr><td style="text-align: right"><code>--dt_seaice</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Sea ice simulation time step (alternative to <code>dt</code>)</td></tr><tr><td style="text-align: right"><code>--checkpoint_dt</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;90days&quot;</code></td><td style="text-align: right"><code>&quot;Nsecs&quot;</code>, <code>&quot;Nmins&quot;</code>, <code>&quot;Nhours&quot;</code>, <code>&quot;Ndays&quot;</code>, <code>&quot;Inf&quot;</code></td><td style="text-align: right">Time interval for checkpointing</td></tr></table><p>Note: If any component model-specific timestep is specified, <em>all</em> component-model specific timesteps should be specified, rather than only <code>dt</code>.</p><h4 id="Space-information"><a class="docs-heading-anchor" href="#Space-information">Space information</a><a id="Space-information-1"></a><a class="docs-heading-anchor-permalink" href="#Space-information" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--h_elem</code></td><td style="text-align: right">Int</td><td style="text-align: right"><code>16</code></td><td style="text-align: right">Any positive integer</td><td style="text-align: right">Number of horizontal elements to use for the boundary space</td></tr><tr><td style="text-align: right"><code>--share_surface_space</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to share the surface space between surface models, atmosphere, and boundary</td></tr></table><h4 id="Restart-information"><a class="docs-heading-anchor" href="#Restart-information">Restart information</a><a id="Restart-information-1"></a><a class="docs-heading-anchor-permalink" href="#Restart-information" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--detect_restart_files</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>false</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to automatically use restart files if available</td></tr><tr><td style="text-align: right"><code>--restart_dir</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right">Any valid directory path</td><td style="text-align: right">Directory containing restart files</td></tr><tr><td style="text-align: right"><code>--restart_t</code></td><td style="text-align: right">Int</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right">Any integer (seconds)</td><td style="text-align: right">Time in seconds rounded to nearest index to use at <code>t_start</code> for restarted simulation</td></tr><tr><td style="text-align: right"><code>--restart_cache</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to read the cache from the restart file if available</td></tr><tr><td style="text-align: right"><code>--save_cache</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to save the state and cache or only the state when checkpointing</td></tr></table><h4 id="Diagnostics-and-output"><a class="docs-heading-anchor" href="#Diagnostics-and-output">Diagnostics and output</a><a id="Diagnostics-and-output-1"></a><a class="docs-heading-anchor-permalink" href="#Diagnostics-and-output" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--use_coupler_diagnostics</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to compute and output coupler diagnostics</td></tr><tr><td style="text-align: right"><code>--coupler_output_dir</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;experiments/ClimaEarth/output&quot;</code></td><td style="text-align: right">Any valid directory path</td><td style="text-align: right">Directory to save output files</td></tr></table><h4 id="Conservation-and-RMSE-checks"><a class="docs-heading-anchor" href="#Conservation-and-RMSE-checks">Conservation and RMSE checks</a><a id="Conservation-and-RMSE-checks-1"></a><a class="docs-heading-anchor-permalink" href="#Conservation-and-RMSE-checks" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--energy_check</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>false</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to check energy conservation</td></tr><tr><td style="text-align: right"><code>--conservation_softfail</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>false</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to soft fail on conservation errors</td></tr><tr><td style="text-align: right"><code>--rmse_check</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>false</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to check RMSE of some physical fields</td></tr></table><h4 id="ClimaAtmos-specific"><a class="docs-heading-anchor" href="#ClimaAtmos-specific">ClimaAtmos specific</a><a id="ClimaAtmos-specific-1"></a><a class="docs-heading-anchor-permalink" href="#ClimaAtmos-specific" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--surface_setup</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;PrescribedSurface&quot;</code></td><td style="text-align: right"><code>PrescribedSurface</code>, <code>DefaultMoninObukhov</code></td><td style="text-align: right">Triggers ClimaAtmos into coupled mode</td></tr><tr><td style="text-align: right"><code>--atmos_config_file</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right">Any valid file path</td><td style="text-align: right">Optional YAML file used to overwrite default model parameters</td></tr><tr><td style="text-align: right"><code>--atmos_log_progress</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>false</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Use ClimaAtmos walltime logging callback instead of default ClimaCoupler one</td></tr><tr><td style="text-align: right"><code>--albedo_model</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;CouplerAlbedo&quot;</code></td><td style="text-align: right"><code>ConstantAlbedo</code>, <code>RegressionFunctionAlbedo</code>, <code>CouplerAlbedo</code></td><td style="text-align: right">Type of albedo model</td></tr><tr><td style="text-align: right"><code>--extra_atmos_diagnostics</code></td><td style="text-align: right">Vector{Dict{Any, Any}}</td><td style="text-align: right"><code>[]</code></td><td style="text-align: right">List of dictionaries</td><td style="text-align: right">List of dictionaries containing information about additional atmosphere diagnostics to output</td></tr></table><h4 id="ClimaLand-specific"><a class="docs-heading-anchor" href="#ClimaLand-specific">ClimaLand specific</a><a id="ClimaLand-specific-1"></a><a class="docs-heading-anchor-permalink" href="#ClimaLand-specific" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--land_model</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;bucket&quot;</code></td><td style="text-align: right"><code>bucket</code>, <code>integrated</code></td><td style="text-align: right">Land model to use</td></tr><tr><td style="text-align: right"><code>--land_temperature_anomaly</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;aquaplanet&quot;</code></td><td style="text-align: right"><code>amip</code>, <code>aquaplanet</code>, <code>nothing</code></td><td style="text-align: right">Type of temperature anomaly for land model</td></tr><tr><td style="text-align: right"><code>--use_land_diagnostics</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to compute and output land model diagnostics</td></tr><tr><td style="text-align: right"><code>--land_spun_up_ic</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to use integrated land initial conditions from spun up state</td></tr><tr><td style="text-align: right"><code>--bucket_albedo_type</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;map_static&quot;</code></td><td style="text-align: right"><code>map_static</code>, <code>function</code>, <code>map_temporal</code></td><td style="text-align: right">Access bucket surface albedo information from data file</td></tr><tr><td style="text-align: right"><code>--bucket_initial_condition</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;&quot;</code></td><td style="text-align: right">Any valid file path</td><td style="text-align: right">File path for a NetCDF file (read documentation about requirements)</td></tr><tr><td style="text-align: right"><code>--era5_initial_condition_dir</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>nothing</code></td><td style="text-align: right">Any valid directory path</td><td style="text-align: right">Directory containing ERA5 initial condition files (subseasonal mode). Filenames inferred from <code>start_date</code>. Generated with <code>https://github.com/CliMA/WeatherQuest</code></td></tr></table><h4 id="Ice-model-specific"><a class="docs-heading-anchor" href="#Ice-model-specific">Ice model specific</a><a id="Ice-model-specific-1"></a><a class="docs-heading-anchor-permalink" href="#Ice-model-specific" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--ice_model</code></td><td style="text-align: right">String</td><td style="text-align: right"><code>&quot;prescribed&quot;</code></td><td style="text-align: right"><code>prescribed</code>, <code>clima_seaice</code></td><td style="text-align: right">Sea ice model to use</td></tr></table><h4 id="Ocean-model-specific"><a class="docs-heading-anchor" href="#Ocean-model-specific">Ocean model specific</a><a id="Ocean-model-specific-1"></a><a class="docs-heading-anchor-permalink" href="#Ocean-model-specific" title="Permalink"></a></h4><table><tr><th style="text-align: right">Argument</th><th style="text-align: right">Type</th><th style="text-align: right">Default</th><th style="text-align: right">Valid Options</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>--evolving_ocean</code></td><td style="text-align: right">Bool</td><td style="text-align: right"><code>true</code></td><td style="text-align: right"><code>true</code>, <code>false</code></td><td style="text-align: right">Whether to use a dynamic slab ocean model, as opposed to constant surface temperatures</td></tr></table><h2 id="Input-API"><a class="docs-heading-anchor" href="#Input-API">Input API</a><a id="Input-API-1"></a><a class="docs-heading-anchor-permalink" href="#Input-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.Input.argparse_settings" href="#ClimaCoupler.Input.argparse_settings"><code>ClimaCoupler.Input.argparse_settings</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">argparse_settings()</code></pre><p>Create and return an <code>ArgParseSettings</code> object with all command-line arguments for ClimaCoupler simulations. Each option should include an argument type, a default value, and a brief help string including the valid values for this option.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/4790b5ee08eb3b4bae7cbbe760966ecbeb1132b4/src/Input.jl#L28-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.Input.parse_commandline" href="#ClimaCoupler.Input.parse_commandline"><code>ClimaCoupler.Input.parse_commandline</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_commandline(settings)</code></pre><p>Parse command-line arguments using the provided <code>ArgParseSettings</code> object.</p><p><strong>Arguments</strong></p><ul><li><code>settings</code>: An <code>ArgParse.ArgParseSettings</code> object containing the command-line arguments to parse</li></ul><p><strong>Returns</strong></p><ul><li>A dictionary of parsed command-line arguments</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/4790b5ee08eb3b4bae7cbbe760966ecbeb1132b4/src/Input.jl#L232-L242">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.Input.get_coupler_config_dict" href="#ClimaCoupler.Input.get_coupler_config_dict"><code>ClimaCoupler.Input.get_coupler_config_dict</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_coupler_config_dict(config_file)</code></pre><p>Read in the configuration file and job ID from the command line. A dictionary is constructed from the input configuration file and returned.</p><p>Since the atmosphere model also uses a configuration file, we read in the atmosphere configuration file specified in the coupler configuration file (if any), and overwrite it with the coupler configuration.</p><p>The order of priority for overwriting configuration options from lowest to highest is:     1. ClimaAtmos defaults     2. ClimaCoupler defaults (defined in <code>Input.argparse_settings()</code>)     3. Command line arguments provided to ClimaCoupler     4. ClimaAtmos configuration file (if specified in coupler config file)     5. ClimaCoupler configuration file</p><p><strong>Returns</strong></p><ul><li><code>config_dict</code>: A dictionary mapping configuration keys to the specified settings</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/4790b5ee08eb3b4bae7cbbe760966ecbeb1132b4/src/Input.jl#L245-L264">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.Input.get_coupler_args" href="#ClimaCoupler.Input.get_coupler_args"><code>ClimaCoupler.Input.get_coupler_args</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_coupler_args(config_dict)</code></pre><p>Extract the necessary arguments from the coupled configuration dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>config_dict</code>: A dictionary mapping configuration keys to the specified settings</li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple of all arguments needed for the coupled simulation</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/4790b5ee08eb3b4bae7cbbe760966ecbeb1132b4/src/Input.jl#L308-L318">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/amip/run_amip/">« AMIP Driver</a><a class="docs-footer-nextpage" href="../checkpointer/">Checkpointer »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 12 January 2026 05:08">Monday 12 January 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
