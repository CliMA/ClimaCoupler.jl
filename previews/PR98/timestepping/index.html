<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Simulations &amp; Timestepping · ClimaCoupler.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ClimaCoupler.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ClimaCoupler.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Sea Breeze</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/sea_breeze/atmos_rhs/">Atmospheric Model</a></li><li><a class="tocitem" href="../generated/sea_breeze/land_rhs/">Land Model</a></li><li><a class="tocitem" href="../generated/sea_breeze/ocean_rhs/">Ocean Model</a></li><li><a class="tocitem" href="../generated/sea_breeze/run/">Coupled Sea Breeze</a></li></ul></li></ul></li><li><span class="tocitem">Coupler Interface</span><ul><li><a class="tocitem" href="../couplerstate/">Coupler State</a></li><li class="is-active"><a class="tocitem" href>Simulations &amp; Timestepping</a><ul class="internal"><li><a class="tocitem" href="#Simulations-Interface"><span>Simulations Interface</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Coupler Interface</a></li><li class="is-active"><a href>Simulations &amp; Timestepping</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Simulations &amp; Timestepping</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/ClimaCoupler.jl/blob/main/docs/src/timestepping.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Simulations-and-Timestepping"><a class="docs-heading-anchor" href="#Simulations-and-Timestepping">Simulations &amp; Timestepping</a><a id="Simulations-and-Timestepping-1"></a><a class="docs-heading-anchor-permalink" href="#Simulations-and-Timestepping" title="Permalink"></a></h1><h2 id="Simulations-Interface"><a class="docs-heading-anchor" href="#Simulations-Interface">Simulations Interface</a><a id="Simulations-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Simulations-Interface" title="Permalink"></a></h2><p><code>ClimaCoupler.jl</code> organizes coupled models and their execution through the use of <code>Simulation</code>s. A <code>Simulation</code> wraps a physical model and its time integrator; it contains all necessary information to execute a  model run. Component models subtype <a href="#ClimaCoupler.AbstractSimulation"><code>ClimaCoupler.AbstractSimulation</code></a> so that coupling methods can be implmented and dispatch by model type. Component <code>Simulation</code>s are collected in a <a href="#ClimaCoupler.CoupledSimulation"><code>CoupledSimulation</code></a> along with the coupler itself. This is the full coupled modeling system. </p><p>When coupling, component models must implement three methods:</p><ul><li><a href="#ClimaCoupler.step!"><code>step!</code></a>: advances the component model by a specified step size</li><li><a href="../couplerstate/#ClimaCoupler.coupler_push!"><code>coupler_push!</code></a>: prepares and puts coupled fields from the model   into the coupler via <code>coupler_put!</code> calls</li><li><a href="../couplerstate/#ClimaCoupler.coupler_pull!"><code>coupler_pull!</code></a>: gets coupled fields from the coupler   via <code>coupler_get!</code> calls and prepares them to be ingested by the model.</li></ul><p>These methods hide each components backend implementations (for timestepping or  field access) from the coupler, allowing heterogeneity in model backends and the standardization of some coupled timestepping schemes. However, like any other simulation, a <code>CoupledSimulation</code> may also implement a <a href="#ClimaCoupler.step!"><code>ClimaCoupler.step!</code></a> method, which in this context specifies the coupling scheme details (e.g. explicit, leap-frog, concurrent, etc...).</p><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.AbstractSimulation" href="#ClimaCoupler.AbstractSimulation"><code>ClimaCoupler.AbstractSimulation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractSimulation</code></pre><pre><code class="nohighlight hljs">AbstractSimulation</code></pre><p>An abstract type representing a model simulation.</p><p>Fields:</p><p>Contructors:</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/d5e506d5cba0dd29177dd212d73fdf9d4a247b1e/src/CoupledSimulations/coupled_simulation.jl#L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.CoupledSimulation" href="#ClimaCoupler.CoupledSimulation"><code>ClimaCoupler.CoupledSimulation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct CoupledSimulation{CS, S, CPL, L, C} &lt;: ClimaCoupler.AbstractCoupledSimulation</code></pre><p>A collection of coupled component simulations.</p><p>Fields:</p><ul><li><p><code>coupler_solver</code></p><p>The coupled time-stepping scheme</p></li><li><p><code>simulations</code></p><p>The component simulations</p></li><li><p><code>coupler</code></p><p>The coupler</p></li><li><p><code>logger</code></p><p>Diagnostic logger</p></li><li><p><code>clock</code></p><p>Clock</p></li></ul><p>Contructors:</p><pre><code class="language-julia hljs">CoupledSimulation(
    coupler_solver,
    simulations,
    coupler,
    logger,
    clock
)</code></pre><p>defined at <a href="https://github.com/CliMA/ClimaCoupler.jl/tree/d5e506d5cba0dd29177dd212d73fdf9d4a247b1e//src/CoupledSimulations/coupled_simulation.jl#L26"><code>/home/runner/work/ClimaCoupler.jl/ClimaCoupler.jl/src/CoupledSimulations/coupled_simulation.jl:26</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/d5e506d5cba0dd29177dd212d73fdf9d4a247b1e/src/CoupledSimulations/coupled_simulation.jl#L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.run!" href="#ClimaCoupler.run!"><code>ClimaCoupler.run!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run!(sim)
</code></pre><pre><code class="nohighlight hljs">run!(::CoupledSimulation)</code></pre><p>A simple outer timestepping loop for coupled system runs.</p><p>This will be formalized when the run! functionality for component models is implemented so to have a consistent interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/d5e506d5cba0dd29177dd212d73fdf9d4a247b1e/src/CoupledSimulations/coupled_simulation.jl#L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ClimaCoupler.step!" href="#ClimaCoupler.step!"><code>ClimaCoupler.step!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">step!(sim, dt)
</code></pre><pre><code class="nohighlight hljs">step!(sim, dt)</code></pre><p>Advances a simulation by <code>dt</code>.</p><p>Note that <code>dt</code> is not necessarily the simulation&#39;s timestep length; a simuation could take several shorter steps that total to <code>dt</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaCoupler.jl/blob/d5e506d5cba0dd29177dd212d73fdf9d4a247b1e/src/CoupledSimulations/coupled_simulation.jl#L56">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../couplerstate/">« Coupler State</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Monday 29 August 2022 16:15">Monday 29 August 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
